<div class="container one-column">
  <div class="content">
    <h1 class="label">Вход в аккаунт</h1>
    <p class="tagline">
      Пожалуйста, введите вашу электронную почту и пароль, для
      того чтобы войти в аккаунт.
    </p>

     <form [formGroup]="form">
     <div>
        <app-usual-input
          [inputRequired]="true"
          type="text"
          [max]="64"
          id="login"
          formControlName="login"
          [placeholder]="'Электронная почта'"
          required
          [error]="loginNotValidError"
        ></app-usual-input>
     
     </div>
       <app-usual-input
       [inputRequired]="true"
       [inputType]="'password'"
        id="password"
        formControlName="password"
        [placeholder]="'Пароль'"
        [max]="20"
        required
        [error]="passwordNotValidError"
      ></app-usual-input>
    </form>


    <hr />

    <a [routerLink]="'/password-recovery'">Восстановление пароля</a>

    <div class="buttons">
      <app-button
        [ngStyle]="{
          'pointer-events':
            form.valid ? 'all' : 'none'
        }"
        (click)="loginUser()"
        [disabled]="form.valid"
        [rounded]="true"
        [color]="'prim'"
        [text]="'Войти'"
      ></app-button>
    </div>
  </div>
</div>

<app-modal 
  [ngStyle]="{'z-index':100}"
  @modal
  *ngIf="successAttemptModalShow"
  [style]="'sec'"
  [title]="'Успешный вход!'"
  [type]="'Ok'"
  (resultEmit)="handleSuccessModalResult()"
  [buttonsText]="['На главную']"
  [description]="'Вы успешно вошли в свой аккаунт!'"
></app-modal>

<app-modal 
  [ngStyle]="{'z-index':100}"
  @modal
  *ngIf="failAttemptModalShow"
  [style]="'prim'"
  [title]="'Неудачная попытка входа'"
  [type]="'Ok'"
  (resultEmit)="handleFailModalResult()"
  [buttonsText]="['Хорошо']"
  [description]="failInfo||'Произошла неизвестная ошибка при попытке входа в аккаунт'"
></app-modal>

<app-modal [ngStyle]="{'z-index':100}" @modal *ngIf="noEmailValidation" [style]="'prim'"
  [title]="'Неудачная попытка входа'" [type]="'Ok'" (resultEmit)="noEmailValidation=false;" [buttonsText]="['Хорошо']"
  [description]="'Вы не подтвердили электронную почту'" ></app-modal>

<app-modal [noButtons]="true" [style]="'await'" *ngIf="loading" [title]="'Подождите...'" @modal [description]="'Проверяем данные, которые вы ввели... Подождите немного...'" />