<div class="container one-column">
  <div class="content">
    <h1 class="label">Вход в аккаунт</h1>
    <p class="tagline">
      Пожалуйста, введи свое имя пользователя/электронную почту и пароль, для
      того чтобы войти в аккаунт.
    </p>

     <form [formGroup]="form">
     <div>
        <app-usual-input
          [inputRequired]="true"
          type="text"
          [max]="64"
          id="login"
          formControlName="login"
          [placeholder]="'Логин или электронная почта'"
          required
          [error]="
          !form.get('login')?.hasError('loginExists')?
            form.get('login')?.invalid &&
            (form.get('login')?.dirty || form.get('login')?.touched)
              ? 'Введи корректный логин или электронную почту'
              : '':''
          "
        ></app-usual-input>
        <div class="error" *ngIf="form.get('login')?.hasError('loginExists')">
                      Пользователя с такой электронной почтой или именем пользователя не существует
                    </div>
     </div>
       <app-usual-input
       [inputRequired]="true"
       [inputType]="'password'"
        id="password"
        formControlName="password"
        [placeholder]="'Пароль'"
        [max]="20"
        required
        [error]="
          form.get('password')?.invalid &&
          (form.get('password')?.dirty || form.get('password')?.touched)
            ? 'Пароль должен содержать от 8 до 20 символов, среди которых как минимум: одна цифра, одна заглавная и строчная буква'
            : ''"
      ></app-usual-input>
    </form>


    <hr />

    <a [routerLink]="'/password-recovery'">Восстановление пароля</a>

    <div class="buttons">
      <app-button
        [ngStyle]="{
          'pointer-events':
            form.valid ? 'all' : 'none'
        }"
        (click)="loginUser()"
        [disabled]="form.valid"
        [rounded]="true"
        [color]="'prim'"
        [text]="'Войти'"
      ></app-button>
    </div>
  </div>
</div>

<app-modal 
  [ngStyle]="{'z-index':100}"
  @modal
  *ngIf="successAttemptModalShow"
  [style]="'sec'"
  [title]="'Успешный вход!'"
  [type]="'Ok'"
  (resultEmit)="handleSuccessModalResult()"
  [buttonsText]="['На главную']"
  [description]="'Вы успешно вошли в свой аккаунт!'"
></app-modal>
